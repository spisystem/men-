<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="UTF-8" />
  <title>Spi Pizza - Men√π</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link href="https://fonts.googleapis.com/css2?family=Fredoka:wght@400;700&display=swap" rel="stylesheet">
  <style>
    body {
      font-family: 'Fredoka', sans-serif;
      background-color: #fff8dc;
      margin: 0;
      padding: 30px;
      color: #2c3e50;
      font-size: 1.4rem;
      position: relative;
      min-height: 100vh;
    }
    h1 {
      text-align: center;
      font-size: 3rem;
      color: #e74c3c;
      margin-bottom: 30px;
    }
    .section { margin-top: 40px; }
    .section h2 {
      font-size: 2rem;
      color: #d35400;
      margin-bottom: 15px;
      border-bottom: 2px dashed #e67e22;
      padding-bottom: 5px;
    }
    .dish {
      display: flex;
      justify-content: space-between;
      margin-bottom: 12px;
      padding: 10px 0;
      border-bottom: 1px dotted #ccc;
    }
    .btn {
      display: block;
      margin: 40px auto;
      padding: 15px 25px;
      font-size: 1.5rem;
      background-color: #27ae60;
      color: white;
      border: none;
      border-radius: 12px;
      cursor: pointer;
      transition: background 0.3s;
    }
    .btn:hover { background-color: #1e874b; }
    .order-section {
      display: none;
      margin-top: 40px;
      border-top: 3px dashed #999;
      padding-top: 30px;
    }
    .menu-item {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin: 12px 0;
      padding: 10px;
      background: #fff;
      border: 2px solid #ffa500;
      border-radius: 12px;
      gap: 10px;
    }
    .qty, .text-input {
      width: 100%;
      padding: 10px;
      font-size: 1.2rem;
      border: 2px solid #ccc;
      border-radius: 10px;
      box-sizing: border-box;
    }
    .total {
      text-align: center;
      font-size: 1.6rem;
      margin-top: 25px;
      font-weight: bold;
      color: #27ae60;
    }
    /* Bandiere in alto a destra */
    #languageSelector {
      position: fixed;
      top: 10px;
      right: 10px;
      display: flex;
      gap: 8px;
      z-index: 1000;
    }
    .flag-btn {
      width: 30px;
      height: 20px;
      background-size: cover;
      border: 2px solid transparent;
      cursor: pointer;
      border-radius: 4px;
      transition: border-color 0.3s;
    }
    .flag-btn:hover, .flag-btn.active {
      border-color: #e74c3c;
    }
    .flag-it { background-image: url('https://flagcdn.com/w20/it.png'); }
    .flag-en { background-image: url('https://flagcdn.com/w20/gb.png'); }
    .flag-fr { background-image: url('https://flagcdn.com/w20/fr.png'); }
    .flag-ar { background-image: url('https://flagcdn.com/w20/sa.png'); }
    label { flex-basis: 30%; font-weight: bold; color: #d35400; }
  </style>
</head>
<body>

  <!-- Selettore lingue -->
  <div id="languageSelector">
    <div class="flag-btn flag-it active" data-lang="it" title="Italiano"></div>
    <div class="flag-btn flag-en" data-lang="en" title="English"></div>
    <div class="flag-btn flag-fr" data-lang="fr" title="Fran√ßais"></div>
    <div class="flag-btn flag-ar" data-lang="ar" title="ÿßŸÑÿπÿ±ÿ®Ÿäÿ©"></div>
  </div>

  <h1 id="pageTitle">üçï Men√π Spi Pizza</h1>

  <!-- Men√π statico -->
  <div class="section">
    <h2 id="classicTitle">Pizze Classiche</h2>
    <div class="dish"><span>Margherita</span><span>‚Ç¨9</span></div>
    <div class="dish"><span>Diavola</span><span>‚Ç¨11</span></div>
  </div>
  <div class="section">
    <h2 id="gourmetTitle">Pizze Gourmet</h2>
    <div class="dish"><span>Quattro Formaggi</span><span>‚Ç¨13</span></div>
    <div class="dish"><span>Prosciutto e Rucola</span><span>‚Ç¨14</span></div>
  </div>
  <div class="section">
    <h2 id="dessertTitle">Dolci</h2>
    <div class="dish"><span>Tiramis√π</span><span>‚Ç¨5</span></div>
    <div class="dish"><span>Panna cotta</span><span>‚Ç¨5</span></div>
  </div>
  <div class="section">
    <h2 id="drinksTitle">Bevande</h2>
    <div class="dish"><span>Acqua minerale</span><span>‚Ç¨2</span></div>
    <div class="dish"><span>Vino della casa</span><span>‚Ç¨4</span></div>
  </div>

  <button class="btn" id="openOrder">üì¶ Voglio ordinare</button>

  <div class="order-section" id="orderSection">
    <form id="orderForm">
      <!-- Selezione prodotti con quantit√† -->
      <div class="menu-item"><span>Margherita (‚Ç¨9)</span><input class="qty" type="number" min="0" value="0" data-name="Margherita" data-price="9"></div>
      <div class="menu-item"><span>Diavola (‚Ç¨11)</span><input class="qty" type="number" min="0" value="0" data-name="Diavola" data-price="11"></div>
      <div class="menu-item"><span>Quattro Formaggi (‚Ç¨13)</span><input class="qty" type="number" min="0" value="0" data-name="Quattro Formaggi" data-price="13"></div>
      <div class="menu-item"><span>Prosciutto e Rucola (‚Ç¨14)</span><input class="qty" type="number" min="0" value="0" data-name="Prosciutto e Rucola" data-price="14"></div>
      <div class="menu-item"><span>Tiramis√π (‚Ç¨5)</span><input class="qty" type="number" min="0" value="0" data-name="Tiramis√π" data-price="5"></div>
      <div class="menu-item"><span>Panna cotta (‚Ç¨5)</span><input class="qty" type="number" min="0" value="0" data-name="Panna cotta" data-price="5"></div>
      <div class="menu-item"><span>Acqua minerale (‚Ç¨2)</span><input class="qty" type="number" min="0" value="0" data-name="Acqua minerale" data-price="2"></div>
      <div class="menu-item"><span>Vino della casa (‚Ç¨4)</span><input class="qty" type="number" min="0" value="0" data-name="Vino della casa" data-price="4"></div>

      <!-- Dati Cliente -->
      <div class="menu-item"><label for="customerName">Nome *</label><input class="text-input" type="text" id="customerName" required></div>
      <div class="menu-item"><label for="customerSurname">Cognome *</label><input class="text-input" type="text" id="customerSurname" required></div>
      <div class="menu-item"><label for="customerAddress">Indirizzo *</label><input class="text-input" type="text" id="customerAddress" required></div>
      <div class="menu-item"><label for="customerCity">Citt√† *</label><input class="text-input" type="text" id="customerCity" required></div>
      <div class="menu-item"><label for="customerPhone">Telefono *</label><input class="text-input" type="tel" id="customerPhone" required></div>

      <div class="total" id="totalDisplay">Totale: ‚Ç¨0.00</div>
      <button type="button" class="btn" onclick="sendWhatsApp()">üì≤ Invia Ordine via WhatsApp</button>
    </form>
  </div>

  <script>
    // Testi multi‚Äëlingua dell‚Äôinterfaccia
    const uiText = {
      it: {
        title: "üçï Men√π Spi Pizza",
        orderBtn: "üì¶ Voglio ordinare",
        sendBtn: "üì≤ Invia Ordine via WhatsApp",
        totalLabel: "Totale",
        name: "Nome", surname: "Cognome", address: "Indirizzo",
        city: "Citt√†", phone: "Telefono",
      },
      en: {
        title: "üçï Spi Pizza Menu",
        orderBtn: "üì¶ I want to order",
        sendBtn: "üì≤ Send Order via WhatsApp",
        totalLabel: "Total",
        name: "Name", surname: "Surname", address: "Address",
        city: "City", phone: "Phone",
      },
      fr: {
        title: "üçï Menu Spi Pizza",
        orderBtn: "üì¶ Je veux commander",
        sendBtn: "üì≤ Envoyer la commande via WhatsApp",
        totalLabel: "Total",
        name: "Pr√©nom", surname: "Nom", address: "Adresse",
        city: "Ville", phone: "T√©l√©phone",
      },
      ar: {
        title: "üçï ŸÇÿßÿ¶ŸÖÿ© ÿ≥ÿ®ÿßŸä ÿ®Ÿäÿ™ÿ≤ÿß",
        orderBtn: "üì¶ ÿ£ÿ±ŸäÿØ ÿßŸÑÿ∑ŸÑÿ®",
        sendBtn: "üì≤ ÿ£ÿ±ÿ≥ŸÑ ÿßŸÑÿ∑ŸÑÿ® ÿπÿ®ÿ± Ÿàÿßÿ™ÿ≥ÿßÿ®",
        totalLabel: "ÿßŸÑŸÖÿ¨ŸÖŸàÿπ",
        name: "ÿßŸÑÿßÿ≥ŸÖ", surname: "ÿßŸÑŸÑŸÇÿ®", address: "ÿßŸÑÿπŸÜŸàÿßŸÜ",
        city: "ÿßŸÑŸÖÿØŸäŸÜÿ©", phone: "ÿßŸÑŸáÿßÿ™ŸÅ",
      }
    };
    let currentLang = 'it';

    // Selettore lingue
    document.querySelectorAll('.flag-btn').forEach(btn => {
      btn.addEventListener('click', () => {
        currentLang = btn.getAttribute('data-lang');
        document.querySelectorAll('.flag-btn').forEach(b => b.classList.remove('active'));
        btn.classList.add('active');
        updateUI();
      });
    });

    function updateUI(){
      const t = uiText[currentLang];
      document.getElementById('pageTitle').textContent = t.title;
      document.getElementById('openOrder').textContent = t.orderBtn;
      document.querySelector('button.btn[onclick]').textContent = t.sendBtn;
      document.getElementById('totalDisplay').textContent = `${t.totalLabel}: ‚Ç¨0.00`;
      document.querySelector("label[for='customerName']").textContent = t.name + " *";
      document.querySelector("label[for='customerSurname']").textContent = t.surname + " *";
      document.querySelector("label[for='customerAddress']").textContent = t.address + " *";
      document.querySelector("label[for='customerCity']").textContent = t.city + " *";
      document.querySelector("label[for='customerPhone']").textContent = t.phone + " *";
    }
    updateUI();

    // Logica ordine
    const openBtn = document.getElementById('openOrder');
    const orderSection = document.getElementById('orderSection');
    const inputs = document.querySelectorAll('.qty');
    const totalDisplay = document.getElementById('totalDisplay');

    openBtn.addEventListener('click', ()=>{
      orderSection.style.display='block';
      openBtn.style.display='none';
    });
    inputs.forEach(i=> i.addEventListener('input', updateTotal));

    function updateTotal(){
      let total=0;
      inputs.forEach(i=>{
        const q=parseInt(i.value)||0;
        total += q * parseFloat(i.dataset.price);
      });
      totalDisplay.textContent = `${uiText[currentLang].totalLabel}: ‚Ç¨${total.toFixed(2)}`;
    }

    function sendWhatsApp(){
      const name = document.getElementById('customerName').value.trim();
      const surname = document.getElementById('customerSurname').value.trim();
      const address= document.getElementById('customerAddress').value.trim();
      const city = document.getElementById('customerCity').value.trim();
      const phone= document.getElementById('customerPhone').value.trim();
      if(!name||!surname||!address||!city||!phone){
        alert("Per favore, compila tutti i campi.");
        return;
      }
      let msg = `Ordine Spi Pizza:\n\n`;
      let has=false;
      inputs.forEach(i=>{
        const q=parseInt(i.value)||0;
        if(q>0){
          has=true;
          msg += `- ${q} x ${i.dataset.name} (‚Ç¨${(q*parseFloat(i.dataset.price)).toFixed(2)})\n`;
        }
      });
      if(!has){ alert("Seleziona almeno un prodotto."); return;}
      msg += `\n${totalDisplay.textContent}\n\n`;
      msg += `üìç Dati Cliente:\nüë§ ${uiText[currentLang].name}: ${name}\nüë• ${uiText[currentLang].surname}: ${surname}\nüè† ${uiText[currentLang].address}: ${address}\nüåÜ ${uiText[currentLang].city}: ${city}\nüìû ${uiText[currentLang].phone}: ${phone}`;
      window.open(`https://wa.me/3935560714?text=` + encodeURIComponent(msg), '_blank');
    }
  </script>
</body>
</html>
